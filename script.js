window.onload=function(){var e,t=document.getElementById("bombBackground");let n=document.getElementById("homepage"),a=document.getElementById("gamepage"),l=document.getElementById("shoppage"),s=document.getElementById("howpage"),i=document.getElementById("settingspage"),o=document.querySelector(".spinner");a.style.display="none",s.style.display="none",i.style.display="none";let d=document.getElementById("startButton"),$=document.getElementById("shopButton"),r=document.getElementById("howButton"),y=document.getElementById("settingsButton"),m=document.getElementById("leftGamepage"),u=document.getElementById("leftShoppage"),c=document.getElementById("leftHowpage"),g=document.getElementById("leftSettingspage"),f=document.getElementById("buyExtraTime"),p,_,E,I,b=0,k=document.getElementById("score"),x=document.getElementById("overScore"),B=document.getElementById("timeIsOver"),h=document.getElementById("playAgain");localStorage.setItem("timer",e);let w=document.getElementById("timer");function v(){clearInterval(p),clearInterval(_),clearInterval(E),clearInterval(I),document.querySelectorAll(".ball, .bomb, .ballUltra").forEach(e=>e.remove()),C=0,O=0,B.style.animation="backgroundFadeOut 1s ease-in-out forwards",B.style.display="none",e=15,b=0,k.textContent=`Points: ${b}`,B.style.display="none",n.style.animation="backgroundFadeOut 1s ease-in-out forwards",A(500),setTimeout(()=>{a.style.animation="backgroundFadeIn 1s ease-in-out forwards",a.style.display="flex";let n=document.getElementById("timerStart");n.style.display="flex",n.style.animation="",n.textContent="4";let l=4;C=0,O=0,p=setInterval(()=>{if(l>1)l--,n.textContent=l;else{clearInterval(p),n.style.animation="backgroundFadeOut 1s ease-in-out forwards",setTimeout(()=>{n.style.display="none"},1e3),document.getElementById("gamesound").play();let a=setInterval(()=>{w.style.display="flex",w.style.animation="backgroundFadeIn .3s ease-in-out forwards";let t=Math.floor(e/60),n=e%60;w.textContent=String(t).padStart(2,"0")+":"+String(n).padStart(2,"0"),0===e?(clearInterval(a),document.getElementById("gamesound").pause(),document.getElementById("gamesound").currentTime=0,w.style.animation="backgroundFadeOut 1s ease-in-out forwards",w.style.display="none",x.textContent=`Your score: ${b}`,B.style.display="flex",B.style.animation="backgroundFadeIn 1s ease-in-out forwards"):e--},1e3);_=setInterval(()=>{C<S?function e(){let t=document.createElement("div");t.className="ball",t.style.width=t.style.height="50px";let n=Math.random()*(window.innerWidth-50);t.style.left=`${n}px`;let a=2*Math.random()+3;t.style.animationDuration=`${a}s`,F.appendChild(t),setTimeout(()=>{F.removeChild(t)},1e3*a),++C>=S&&(C=0),t.addEventListener("click",function(){b+=1,t.style.filter="blur(100px)",setTimeout(()=>{F.removeChild(t)},500),C--,k.textContent="Points: "+D(b)})}():clearInterval(_)},300),E=setInterval(()=>{O<P?function e(){let n=document.createElement("div");n.className="bomb",n.style.width=n.style.height="50px";let a=Math.random()*(window.innerWidth-50);n.style.left=`${a}px`;let l=2*Math.random()+3;n.style.animationDuration=`${l}s`,F.appendChild(n),setTimeout(()=>{F.removeChild(n)},1e3*l),++O>=P&&(O=0),n.addEventListener("click",function(){b>0&&b<20&&(b-=5),b>20&&b<50&&(b-=15),b>50&&b<100&&(b-=40),b>100&&(b-=60),(0===b||b<0)&&(b=0),t.style.display="flex",t.style.zIndex="11",t.style.opacity="1",t.style.animation="bombLight .3s linear  3 forwards",setTimeout(()=>{t.style.display="none"},1e3),n.style.pointerEvents="none",n.style.filter="blur(100px)",setTimeout(()=>{F.contains(n)&&F.removeChild(n)},500),O--,k.textContent="Points: "+D(b)})}():clearInterval(E)},3500),I=setInterval(()=>{O<P?function e(){let t=document.createElement("div");t.className="ballUltra",t.style.width=t.style.height="60px";let n=Math.random()*(window.innerWidth-60);t.style.left=`${n}px`;let a=2*Math.random()+3;t.style.animationDuration=`${a}s`,F.appendChild(t),setTimeout(()=>{F.removeChild(t)},1e3*a),++L>=1&&(L=0),t.addEventListener("click",function(){b+=5,t.style.filter="blur(100px)",setTimeout(()=>{F.removeChild(t)},500),L--,k.textContent="Points: "+D(b)})}():clearInterval(I)},1500)}},1e3)},500)}w.style.display="none",d.onclick=v,h.onclick=v,f.onclick=function(){var t;e=parseInt(localStorage.getItem("timer"))||0,e+=5,t=e,localStorage.setItem("timer",t)};let F=document.getElementById("gameArea"),C=0,O=0,L=0,S=50,P=1;function A(e){o.style.display="flex",o.style.animation="loading 2s linear forwards",setTimeout(()=>{o.style.display="none"},e)}function D(e){return e>=1e9?(e/1e9).toFixed(1).replace(/\.0$/,"")+"B":e>=1e6?(e/1e6).toFixed(1).replace(/\.0$/,"")+"M":e>=1e3?(e/1e3).toFixed(1).replace(/\.0$/,"")+"k":e.toString()}r.addEventListener("click",function(){n.style.animation="backgroundFadeOut 1s ease-in-out forwards",A(500),setTimeout(()=>{s.style.animation="backgroundFadeIn 1s ease-in-out forwards",s.style.display="flex"},500)}),y.addEventListener("click",function(){n.style.animation="backgroundFadeOut 1s ease-in-out forwards",A(500),setTimeout(()=>{i.style.animation="backgroundFadeIn 1s ease-in-out forwards",i.style.display="flex"},500)}),$.addEventListener("click",function(){n.style.animation="backgroundFadeOut 1s ease-in-out forwards",A(500),setTimeout(()=>{l.style.animation="backgroundFadeIn 1s ease-in-out forwards",l.style.display="flex"},500)}),m.addEventListener("click",function(){a.style.animation="backgroundFadeOut 1s ease-in-out forwards",A(500),setTimeout(()=>{n.style.animation="backgroundFadeIn 1s ease-in-out forwards",n.style.display="flex"},1200),document.getElementById("gamesound").pause(),document.getElementById("gamesound").currentTime=0,e=15}),u.addEventListener("click",function(){l.style.animation="backgroundFadeOut 1s ease-in-out forwards",A(500),setTimeout(()=>{n.style.animation="backgroundFadeIn 1s ease-in-out forwards",n.style.display="flex"},1200)}),c.addEventListener("click",function(){s.style.animation="backgroundFadeOut 1s ease-in-out forwards",A(500),setTimeout(()=>{n.style.animation="backgroundFadeIn 1s ease-in-out forwards",n.style.display="flex"},1200)}),g.addEventListener("click",function(){i.style.animation="backgroundFadeOut 1s ease-in-out forwards",A(500),setTimeout(()=>{n.style.animation="backgroundFadeIn 1s ease-in-out forwards",n.style.display="flex"},1200)})};
