window.onload=function(){var e=document.getElementById("bombBackground");let t=document.getElementById("homepage"),n=document.getElementById("gamepage"),a=document.getElementById("shoppage"),o=document.getElementById("howpage"),l=document.getElementById("settingspage"),s=document.querySelector(".spinner");n.style.display="none",o.style.display="none",l.style.display="none";let i,d,r,m,u=document.getElementById("startButton"),c=document.getElementById("shopButton"),y=document.getElementById("howButton"),g=document.getElementById("settingsButton"),f=document.getElementById("leftGamepage"),p=document.getElementById("leftShoppage"),I=document.getElementById("leftHowpage"),E=document.getElementById("leftSettingspage"),v=document.getElementById("buyExtraTime"),b=0,w=document.getElementById("score"),h=document.getElementById("overScore"),k=document.getElementById("timeIsOver"),x=document.getElementById("playAgain");var B;localStorage.setItem("timer",B);let F=document.getElementById("timer");function T(){clearInterval(i),clearInterval(d),clearInterval(r),clearInterval(m),document.querySelectorAll(".ball, .bomb, .ballUltra").forEach((e=>e.remove())),S=0,O=0,k.style.animation="backgroundFadeOut 1s ease-in-out forwards",k.style.display="none",B=15,b=0,w.textContent=`Points: ${b}`,k.style.display="none",t.style.animation="backgroundFadeOut 1s ease-in-out forwards",A(500),setTimeout((()=>{n.style.animation="backgroundFadeIn 1s ease-in-out forwards",n.style.display="flex";let t=document.getElementById("timerStart");t.style.display="flex",t.style.animation="",t.textContent="4";let a=4;S=0,O=0,i=setInterval((()=>{if(a>1)a--,t.textContent=a;else{clearInterval(i),t.style.animation="backgroundFadeOut 1s ease-in-out forwards",setTimeout((()=>{t.style.display="none"}),1e3),document.getElementById("gamesound").play();const n=setInterval((()=>{F.style.display="flex",F.style.animation="backgroundFadeIn .3s ease-in-out forwards";const e=Math.floor(B/60),t=B%60;F.textContent=String(e).padStart(2,"0")+":"+String(t).padStart(2,"0"),0===B?(clearInterval(n),document.getElementById("gamesound").pause(),document.getElementById("gamesound").currentTime=0,F.style.animation="backgroundFadeOut 1s ease-in-out forwards",F.style.display="none",h.textContent=`Your score: ${b}`,k.style.display="flex",k.style.animation="backgroundFadeIn 1s ease-in-out forwards"):B--}),1e3);d=setInterval((()=>{S<$?function(){let e=document.createElement("div");e.className="ball";let t=50;e.style.width=e.style.height=t+"px";const n=Math.random()*(window.innerWidth-t);e.style.left=`${n}px`;const a=2*Math.random()+3;e.style.animationDuration=`${a}s`,C.appendChild(e),setTimeout((()=>{C.removeChild(e)}),1e3*a),S++,S>=$&&(S=0);e.addEventListener("click",(function(){b+=1,e.style.filter="blur(100px)",setTimeout((()=>{C.removeChild(e)}),500),S--,w.textContent="Points: "+D(b)}))}():clearInterval(d)}),300),r=setInterval((()=>{O<M?function(){let t=document.createElement("div");t.className="bomb";let n=50;t.style.width=t.style.height=n+"px";const a=Math.random()*(window.innerWidth-n);t.style.left=`${a}px`;const o=2*Math.random()+3;t.style.animationDuration=`${o}s`,C.appendChild(t),setTimeout((()=>{C.removeChild(t)}),1e3*o),O++,O>=M&&(O=0);t.addEventListener("click",(function(){b>0&&b<20&&(b-=5),b>20&&b<50&&(b-=15),b>50&&b<100&&(b-=40),b>100&&(b-=60),(0===b||b<0)&&(b=0),e.style.display="flex",e.style.zIndex="11",e.style.opacity="1",e.style.animation="bombLight .3s linear  3 forwards",setTimeout((()=>{e.style.display="none"}),1e3),t.style.pointerEvents="none",t.style.filter="blur(100px)",setTimeout((()=>{C.contains(t)&&C.removeChild(t)}),500),O--,w.textContent="Points: "+D(b)}))}():clearInterval(r)}),3500),m=setInterval((()=>{O<M?function(){let e=document.createElement("div");e.className="ballUltra";let t=60;e.style.width=e.style.height=t+"px";const n=Math.random()*(window.innerWidth-t);e.style.left=`${n}px`;const a=2*Math.random()+3;e.style.animationDuration=`${a}s`,C.appendChild(e),setTimeout((()=>{C.removeChild(e)}),1e3*a),L++,L>=P&&(L=0);e.addEventListener("click",(function(){b+=5,e.style.filter="blur(100px)",setTimeout((()=>{C.removeChild(e)}),500),L--,w.textContent="Points: "+D(b)}))}():clearInterval(m)}),1500)}}),1e3)}),500)}F.style.display="none",u.onclick=T,x.onclick=T,v.onclick=function(){var e;B=parseInt(localStorage.getItem("timer"))||0,e=B+=5,localStorage.setItem("timer",e)};const C=document.getElementById("gameArea");let S=0,O=0,L=0;const $=50,M=1,P=1;function A(e){s.style.display="flex",s.style.animation="loading 2s linear forwards",setTimeout((()=>{s.style.display="none"}),e)}function D(e){return e>=1e9?(e/1e9).toFixed(1).replace(/\.0$/,"")+"B":e>=1e6?(e/1e6).toFixed(1).replace(/\.0$/,"")+"M":e>=1e3?(e/1e3).toFixed(1).replace(/\.0$/,"")+"k":e.toString()}y.addEventListener("click",(function(){t.style.animation="backgroundFadeOut 1s ease-in-out forwards",A(500),setTimeout((()=>{o.style.animation="backgroundFadeIn 1s ease-in-out forwards",o.style.display="flex"}),500)})),g.addEventListener("click",(function(){t.style.animation="backgroundFadeOut 1s ease-in-out forwards",A(500),setTimeout((()=>{l.style.animation="backgroundFadeIn 1s ease-in-out forwards",l.style.display="flex"}),500)})),c.addEventListener("click",(function(){t.style.animation="backgroundFadeOut 1s ease-in-out forwards",A(500),setTimeout((()=>{a.style.animation="backgroundFadeIn 1s ease-in-out forwards",a.style.display="flex"}),500)})),f.addEventListener("click",(function(){n.style.animation="backgroundFadeOut 1s ease-in-out forwards",A(500),setTimeout((()=>{t.style.animation="backgroundFadeIn 1s ease-in-out forwards",t.style.display="flex"}),1200),document.getElementById("gamesound").pause(),document.getElementById("gamesound").currentTime=0,B=15})),p.addEventListener("click",(function(){a.style.animation="backgroundFadeOut 1s ease-in-out forwards",A(500),setTimeout((()=>{t.style.animation="backgroundFadeIn 1s ease-in-out forwards",t.style.display="flex"}),1200)})),I.addEventListener("click",(function(){o.style.animation="backgroundFadeOut 1s ease-in-out forwards",A(500),setTimeout((()=>{t.style.animation="backgroundFadeIn 1s ease-in-out forwards",t.style.display="flex"}),1200)})),E.addEventListener("click",(function(){l.style.animation="backgroundFadeOut 1s ease-in-out forwards",A(500),setTimeout((()=>{t.style.animation="backgroundFadeIn 1s ease-in-out forwards",t.style.display="flex"}),1200)}))};
